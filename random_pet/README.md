RANDOM_PET

In this repository you can find an example on how to use the terraform random_pet resource. For this demo I use tow resources - the random_pet and aws_instance resources - to show what exactly is doing the first one. This type of resource is very usefull to create a unique name for a given resouce. This name is the identifier of the resource istelf - in this example we talk about the name of the server we create in AWS. Random_pet can be used with create_before_destroy lifecycle flag witch can help avoiding problems during destruction of old and creation of new resources in the given cloud.

SOURCE - Terraform Registry.

REQUIREMENTS:

Terraform installed localy. 

VERSIONS: 

All provider versions can be seen in .terraform.lock.hcl file after using the command "terraform init".
provider "registry.terraform.io/hashicorp/aws" {
  version     = "4.67.0"
  constraints = "~> 4.0"

  provider "registry.terraform.io/hashicorp/random" {
  version = "3.5.1" 

FILES IN THE REPO

main.tf - this file contains the configuration for the resources
variables.tf - thit file contains variables that can be changed with other values
outputs.tf - this file contains the values for given parameters as end result, that can be used in other configurations. In this case we need the IDs of the server itself and AMI image for that server.

README.md - This document. It describes the most important about this repo. 

.gitignore - file with type of files that shouldn't be commited in the publick repository.

TESTING



<img width="595" alt="Screenshot 2023-06-23 at 10 39 20" src="https://github.com/dbeleva-af/the-rest/assets/105104959/537923f3-200a-4b0c-9072-38b771e7d76c">






On this image we can see the outputs after the apply action.

Commands for testing the random_pet block: terraform init - after using this command the required plugins are installed. 
terraform validate - via this command we are validating that the configuration has no syntactical problems and will not produce an error. 
terraform plan - with this command terraform is making plan before applying the configuration. After applying this command we see that there are 2 resources to be created - the random_pet and the aws_instance. The plan could be stored in a file (terraform plan -out ) and could be executed latter. 
terraform apply - this command is doing the main action - to deploy the given infrastructure anywere. In this case in the main.tf file there are real resources to be deployed in a cloud. This time there will be one aws_instance with unique identifier - Name = "web-server-${random_pet.server.id}". Those kind of names are generated by the interpolation from web-server and the identifier that the random_pet resource is creating - web-server-aware-perch - witch can be seen in the AWS console. During the creation process terraform creates one tfstate file as a source ot truth for the deployed infrastructure. 
terraform destroy - the command destroys everything that was deployed by the previous command. This means that the infrastructure will not be available.










  
